jump main
printArray:
	pushFrom -1 #		array at 0
	pushFrom 0
	arrayLength #		length at 1
	push 0 #			counter at 2
	
	printLoopStart:
	# condition
		pushFrom 2
		pushFrom 1
		isSame
		if
		Jump printLoopEnd
		
		pushFrom 2
		pushFrom 0
		incRef
		Deref
		writeInt
		push '\n'
		writeChar
		
		pushFrom 2
		push 1
		mathAddInt
		WriteTo 2
		
		jump printLoopStart
		
	printLoopEnd:
	popN 3
	jumpBack
fillArray:
	pushFrom -1 #		array at 0
	pushFrom 0
	arrayLength #		length at 1
	push 0 #			counter at 2
	
	fillLoopStart:
	# condition
		pushFrom 2
		pushFrom 1
		isSame
		if
		Jump fillLoopEnd

		pushFrom 2 # value to write
		pushFrom 2
		pushFrom 0
		incRef # ref to write to
		writeToRef
		
		pushFrom 2
		push 1
		mathAddInt
		WriteTo 2
		
		jump fillLoopStart
		
	fillLoopEnd:
	popN 3
	jumpBack
main:
	push 10
	makeArray
	jumpFrame fillArray
	jumpFrame printArray
	popN 1 # pop the array
	jumpBack
